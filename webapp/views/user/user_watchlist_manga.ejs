
<%
const title = user ? `${user.Username}'s mangaList- YourAnimeHub` : 'YourAnimeHub';
%>
<%- include('../partials/header.ejs', { title: title }) %>
<link type="text/css" rel="stylesheet" href="/css/styleWatchlist.css">


<!-- User watchlist manga-->
<a class="cardHeader_a" href="/user/watchlist/anime">
  <div class="header_title_anime one">
    <h2 class="my_h2 text-light" style="margin-left: 20px !important;">SEE ANIME LIST</h2>
  </div>
</a>

<div class="container mt-5">

  <!-- Reading Section -->
<div class="header_title_anime one">
  <h2 class="my_h2 text-light" style="margin-left: 20px !important;">READING</h2>
</div>
<div class="anime-block">
  <% if (ReadingMangaList === null || ReadingMangaList.length === 0) { %>
    <p>No currently reading manga added yet.</p>
  <% } else { %>
    <table class="table">
      <thead>
        <tr>
          <td><strong>Title</strong></td>
          <td><strong>Rate</strong></td>
          <td><strong>Chapter Progress</strong></td>
          <td><strong>Volume Progress</strong></td>
        </tr>
      </thead>
      <tbody>
        <% ReadingMangaList.slice(0, 6).forEach((mangaDetails) => { %>
          <tr class="anime-row">
            <td>
              <a href="/manga/<%= mangaDetails.AnimeID%>/<%=mangaDetails.TitleEnglish%>">
                <div class="anime_title_box">
                  <img src="<%= mangaDetails.CoverImageURL %>" alt="<%= mangaDetails.TitleEnglish %>" class="img-thumbnail" width="50">
                  <p><%= mangaDetails.TitleEnglish %></p>
                </div>
              </a>
            </td>
            <td><%= mangaDetails.RateGrade %></td>
            <td><%= mangaDetails.ChaptersRead %> / <%= mangaDetails.Chapters %></td>
            <td><%= mangaDetails.VolumeProgress %> / <%= mangaDetails.Volumes %></td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  <% } %>
</div>
  <button class="view_all_btn" onclick="window.location.href='/user/watchlist/manga/reading'">View All</button>
  

  <!-- Completed Section -->
  <div class="header_title_anime one">
    <h2 class="my_h2 text-light" style="margin-left: 20px !important;">COMPLETED</h2>
  </div>
  <div class="anime-block">
    <% if (CompleteMangaList === null || CompleteMangaList.length === 0) { %>
      <p>No completed manga yet.</p>
    <% } else { %>
      <table class="table">
        <thead>
          <tr>
            <td><strong>Title</strong></td>
            <td><strong>Rate</strong></td>
            <td><strong>Chapter Progress</strong></td>
          <td><strong>Volume Progress</strong></td>
          </tr>
        </thead>
        <tbody>
          <% CompleteMangaList.slice(0, 6).forEach((mangaDetails) => { %>
            <tr class="anime-row">
              <td>
                <a href="/manga/<%= mangaDetails.AnimeID%>/<%=mangaDetails.TitleEnglish%>">
                  <div class="anime_title_box">
                    <img src="<%= mangaDetails.CoverImageURL %>" alt="<%= mangaDetails.TitleEnglish %>" class="img-thumbnail" width="50">
                    <p><%= mangaDetails.TitleEnglish %></p>
                  </div>
                </a>
              </td>
              <td><%= mangaDetails.RateGrade %></td>
              <td><%= mangaDetails.ChaptersRead %> / <%= mangaDetails.Chapters %></td>
              <td><%= mangaDetails.VolumeProgress %> / <%= mangaDetails.Volumes %></td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    <% } %>
  </div>
  <button class="view_all_btn" onclick="window.location.href='/user/watchlist/manga/complete'">View All</button>
  
  
  
 <!-- Completed Section -->
 <div class="header_title_anime one">
  <h2 class="my_h2 text-light" style="margin-left: 20px !important;">COMPLETED</h2>
</div>
<div class="anime-block">
  <% if (PlanningMangaList === null || PlanningMangaList.length === 0) { %>
    <p>No planned to read manga yet.</p>
  <% } else { %>
    <table class="table">
      <thead>
        <tr>
          <td><strong>Title</strong></td>
          <td><strong>Rate</strong></td>
          <td><strong>Chapter Progress</strong></td>
          <td><strong>Volume Progress</strong></td>
        </tr>
      </thead>
      <tbody>
        <% PlanningMangaList.slice(0, 6).forEach((mangaDetails) => { %>
          <tr class="anime-row">
            <td>
              <a href="/manga/<%= mangaDetails.AnimeID%>/<%=mangaDetails.TitleEnglish%>">
                <div class="anime_title_box">
                  <img src="<%= mangaDetails.CoverImageURL %>" alt="<%= mangaDetails.TitleEnglish %>" class="img-thumbnail" width="50">
                  <p><%= mangaDetails.TitleEnglish %></p>
                </div>
              </a>
            </td>
            <td><%= mangaDetails.RateGrade %></td>
            <td><%= mangaDetails.ChaptersRead %> / <%= mangaDetails.Chapters %></td>
            <td><%= mangaDetails.VolumeProgress %> / <%= mangaDetails.Volumes %></td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  <% } %>
</div>
  <button class="view_all_btn" onclick="window.location.href='/user/watchlist/manga/planning'">View All</button>
  



  <% if (RewatchedMangaList !== null) { %>
    <!-- Rereading Section -->
    <div class="header_title_anime one">
      <h2 class="my_h2 text-light" style="margin-left: 20px !important;">REWATCHING</h2>
    </div>
    <div class="anime-block">
        <table class="table">
          <thead>
            <tr>
              <td><strong>Title</strong></td>
          <td><strong>Rate</strong></td>
          <td><strong>Chapter Progress</strong></td>
          <td><strong>Volume Progress</strong></td>
            </tr>
          </thead>
          <tbody>
            <% RewatchedMangaList.slice(0, 6).forEach((animeDetails) => { %>
              <tr class="anime-row">
                <td>
                  <a href="/anime/<%= animeDetails.AnimeID%>/<%=animeDetails.TitleEnglish%>">
                    <div class="anime_title_box">
                      <img src="<%= animeDetails.CoverImageURL %>" alt="<%= animeDetails.TitleEnglish %>" class="img-thumbnail" width="50">
                      <p><%= animeDetails.TitleEnglish %></p>
                    </div>
                  </a>
                </td>
                <td><%= mangaDetails.RateGrade %></td>
                <td><%= mangaDetails.ChaptersRead %> / <%= mangaDetails.Chapters %></td>
                <td><%= mangaDetails.VolumeProgress %> / <%= mangaDetails.Volumes %></td>
              </tr>
            <% }); %>
          </tbody>
        </table>
    </div>
    <% } %>
  
  
    <% if (PausedMangaList !== null) { %>
    <!-- Paused Section -->
    <div class="header_title_anime one">
      <h2 class="my_h2 text-light" style="margin-left: 20px !important;">PAUSED</h2>
    </div>
    <div class="anime-block">
        <table class="table">
          <thead>
            <tr>
              <td><strong>Title</strong></td>
          <td><strong>Rate</strong></td>
          <td><strong>Chapter Progress</strong></td>
          <td><strong>Volume Progress</strong></td>
            </tr>
          </thead>
          <tbody>
            <% PausedMangaList.slice(0, 6).forEach((animeDetails) => { %>
              <tr class="anime-row">
                <td>
                  <a href="/anime/<%= animeDetails.AnimeID%>/<%=animeDetails.TitleEnglish%>">
                    <div class="anime_title_box">
                      <img src="<%= animeDetails.CoverImageURL %>" alt="<%= animeDetails.TitleEnglish %>" class="img-thumbnail" width="50">
                      <p><%= animeDetails.TitleEnglish %></p>
                    </div>
                  </a>
                </td>
                <td><%= mangaDetails.RateGrade %></td>
                <td><%= mangaDetails.ChaptersRead %> / <%= mangaDetails.Chapters %></td>
                <td><%= mangaDetails.VolumeProgress %> / <%= mangaDetails.Volumes %></td>
              </tr>
            <% }); %>
          </tbody>
        </table>
    </div>
    <% } %>
  
  
    <% if (DroppedMangaList !== null) { %>
    <!-- Dropped Section -->
    <div class="header_title_anime one">
      <h2 class="my_h2 text-light" style="margin-left: 20px !important;">DROPPED</h2>
    </div>
    <div class="anime-block">
        <table class="table">
          <thead>
            <tr>
              <td><strong>Title</strong></td>
          <td><strong>Rate</strong></td>
          <td><strong>Chapter Progress</strong></td>
          <td><strong>Volume Progress</strong></td>
            </tr>
          </thead>
          <tbody>
            <% DroppedMangaList.slice(0, 6).forEach((animeDetails) => { %>
              <tr class="anime-row">
                <td>
                  <a href="/anime/<%= animeDetails.AnimeID%>/<%=animeDetails.TitleEnglish%>">
                    <div class="anime_title_box">
                      <img src="<%= animeDetails.CoverImageURL %>" alt="<%= animeDetails.TitleEnglish %>" class="img-thumbnail" width="50">
                      <p><%= animeDetails.TitleEnglish %></p>
                    </div>
                  </a>
                </td>
                <td><%= mangaDetails.RateGrade %></td>
                <td><%= mangaDetails.ChaptersRead %> / <%= mangaDetails.Chapters %></td>
                <td><%= mangaDetails.VolumeProgress %> / <%= mangaDetails.Volumes %></td>
              </tr>
            <% }); %>
          </tbody>
        </table>
    </div>
    <% } %>
    
  
  
  </div>

<%- include('../partials/footer.ejs', { title: title }) %>

</body>
</html>