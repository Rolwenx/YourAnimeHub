
<%- include('../partials/header.ejs', { title: title }) %>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
<link type="text/css" rel="stylesheet" href="/css/styleProfile.css">
<link type="text/css" rel="stylesheet" href="/css/styleHome.css">

<div class="header__wrapper">
    <div class="cols__container">
      <div class="left__col">
        <div class="img__container">
          <img src="<%= user.ProfilePictureURL %>" alt="<%= user.Username %>" />
          <span></span>
        </div>
        <h2><%= user.Username %></h2>
        <p><%= user.Email %></p>

        <ul class="about">
          <li><span><%= StatsCount.AnimeCount %></span>Anime watched</li>
          <li><span><%= StatsCount.MangaCount %></span>Manga watched</li>
          <li><span><%= StatsCount.ReviewCount %></span>Reviews made</li>
        </ul>

        <div class="content">
          <p>
            <%- user.Bio %>
          </p>
        </div>
      </div>
      <div class="right__col">
        <nav>
            <ul>
              <li><a href="/user/watchlist/anime">Watchlist</a></li>
              <li><a href="/user/favourites">Favourites</a></li>
              <li><a href="/user/reviews">Reviews</a></li>
            </ul>
            <button class="menu_btn" onclick="location.href='/user/settings'">SETTINGS</button>
          </nav>

          <div class="top_header">
            <h3 class="my_h3 text-light" style="margin-left:20px; text-decoration: underline;text-underline-position: under;">
                <a style="color:white;" href="/user/watchlist/anime">Anime Currently Watching</a>
            </h3>
            <div class="anime_container">
                <% if (WatchingAnimeList && Array.isArray(WatchingAnimeList) && WatchingAnimeList.length > 0) { %>
                    <% WatchingAnimeList.slice(0, 3).forEach((animeEntry) => { %>
                        <% const animeDetails = animeEntry['0']; %>
                        <div class="anime_boxes">
                            <div class="anime_box">
                                <a href="/anime/<%= animeDetails.AnimeID %>/<%= animeDetails.TitleEnglish %>">
                                    <div class="box-img">
                                        <img src="<%= animeDetails.CoverImageURL %>" alt="<%= animeDetails.TitleEnglish %>">
                                    </div>
                                    <div class="animeName">
                                        <a href="/anime/<%= animeDetails.AnimeID %>/<%= animeDetails.TitleEnglish %>">
                                            <%= animeDetails.TitleEnglish %>
                                        </a>
                                    </div>
                                </a>
                            </div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <p style="color:white; margin-left: 30px;">You are currently watching nothing.</p>
                <% } %>
            </div>
        </div>
        <div class="top_header">
          <h3 class="my_h3 text-light" style="margin-left:20px; text-decoration: underline;text-underline-position: under;">
              <a style="color:white;" href="/user/watchlist/manga">Manga Currently Reading</a>
          </h3>
          <div class="anime_container">
              <% if (WatchingMangaList && Array.isArray(WatchingMangaList) && WatchingMangaList.length > 0) { %>
                  <% WatchingMangaList.slice(0, 3).forEach((animeEntry) => { %>
                      <% const animeDetails = animeEntry['0']; %>
                      <div class="anime_boxes">
                          <div class="anime_box">
                              <a href="/manga/<%= animeDetails.AnimeID %>/<%= animeDetails.TitleEnglish %>">
                                  <div class="box-img">
                                      <img src="<%= animeDetails.CoverImageURL %>" alt="<%= animeDetails.TitleEnglish %>">
                                  </div>
                                  <div class="animeName">
                                      <a href="/manga/<%= animeDetails.AnimeID %>/<%= animeDetails.TitleEnglish %>">
                                          <%= animeDetails.TitleEnglish %>
                                      </a>
                                  </div>
                              </a>
                          </div>
                      </div>
                  <% }); %>
              <% } else { %>
                  <p style="color:white; margin-left: 30px;">You are currently reading nothing.</p>
              <% } %>
          </div>
      </div>
    
          <!-- Anime Section -->
          <div class="anime-section">
            <!-- Add code to display anime saved by the user -->
          </div>
    
          <!-- Manga Section -->
          <div class="manga-section">
            <!-- Add code to display manga saved by the user -->
          </div>
    
          <!-- Stats Section -->
          <div class="stats-section">
            <h3>User Stats</h3>
            <ul>
              <li>Total Anime in Watchlist: <span>1000</span></li>
              <li>Total Manga in Watchlist: <span>1000</span></li>
              <li>Total Liked Quotes: <span>1000</span></li>
              <li>Total Liked Characters: <span>1000</span></li>
              <li>Number of Anime Completed: <span>1000</span></li>
              <li>Number of Manga Completed: <span>1000</span></li>
              <li>Number of Anime Need to Watch: <span>1000</span></li>
              <li>Number of Manga Need to Watch: <span>1000</span></li>
              <li>Number of Anime Currently Watching: <span>1000</span></li>
              <li>Number of Manga Currently Watching: <span>1000</span></li>
            </ul>
          </div>
    
          <!-- Manga Reading Stats -->
          <div class="manga-reading-stats">
            <h3>Manga Reading Stats</h3>
            <ul>
              <li>1. Total Manga: <span>700</span></li>
              <li>2. Chapters Read: <span>72</span></li>
              <li>3. Volumes Read: <span>72</span></li>
            </ul>
          </div>
        </div>
      </div>
    </div>


<%- include('../partials/footer.ejs', { title: title }) %>


</body>
</html>